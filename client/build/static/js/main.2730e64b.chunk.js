(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{133:function(e,t,a){e.exports=a(192)},138:function(e,t,a){},168:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),o=a.n(l),c=(a(138),a(18)),i=a(14),s=a(19),m=a(20),u=a(21),d=a(7),p=a(207),h=a(11),g=a(233),f=a(87),E=a(72),b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={books:[],searchTerm:""},a.handleSearch=a.handleSearch.bind(Object(d.a)(a)),a.searchButtonClicked=a.searchButtonClicked.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"setTextBoxListner",value:function(){document.getElementById("searchText").addEventListener("keyup",(function(e){13===e.keyCode&&document.getElementById("linkToList").click()}))}},{key:"handleSearch",value:function(e){this.setState({searchTerm:e.target.value})}},{key:"searchButtonClicked",value:function(e){""===this.state.searchTerm&&(alert("Please enter a search term in the textbox"),e.preventDefault())}},{key:"render",value:function(){return r.a.createElement(f.a,{style:{display:"flex",alignItems:"center"}},r.a.createElement(E.a,{id:"searchText",style:{borderRadius:"1.2rem"},placeholder:"Search","aria-label":"Search","aria-describedby":"basic-addon1",onChange:this.handleSearch,onFocus:this.setTextBoxListner}),r.a.createElement(f.a.Append,{style:{paddingLeft:"3%"}},r.a.createElement(g.a,{id:"linkToList",component:h.c,to:"/bookList/"+this.state.searchTerm,onClick:this.searchButtonClicked},r.a.createElement(p.a,{style:{color:"white"}}))))}}]),t}(n.Component),v=a(40),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a.handleLogout=function(){a.logoutCurrentUser(),alert("You have been logged out")},a.state={anchorEl:null,currentUser:e.currentUser,isUserLoggedIn:e.isUserLoggedIn},a.logoutCurrentUser=a.logoutCurrentUser.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillUpdate",value:function(e,t){e!==this.props&&this.setState({currentUser:e.username,isUserLoggedIn:e.isUserLoggedIn})}},{key:"render",value:function(){return r.a.createElement(h.b,null,r.a.createElement("div",{className:"topnav"},r.a.createElement("div",{className:"logo"},r.a.createElement(h.d,{style:{textDecoration:"none",color:"black"},to:"/HomePage"},r.a.createElement("h1",{align:"left"},"Geek Text"))),r.a.createElement("div",{id:"search-info-container",className:"search"},r.a.createElement(b,null)),r.a.createElement("div",{className:"rightIcons"},r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"loginButton"},this.loggedInUser()))))}},{key:"logoutCurrentUser",value:function(){this.props.logoutUser("null",!1)}},{key:"loggedInUser",value:function(){var e=this.state.anchorEl;return this.state.isUserLoggedIn?r.a.createElement(h.b,null,r.a.createElement("div",null,r.a.createElement(v.a,null,r.a.createElement(p.a,{disabled:!0,style:{textDecoration:"none",color:"black",textTransform:"none"},"aria-owns":e?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},this.props.currentUser),r.a.createElement(v.a.Toggle,{split:!0,className:"menuToggle"}),r.a.createElement(v.a.Menu,{alignRight:!0},r.a.createElement(v.a.Item,null,r.a.createElement(h.d,{style:{textDecoration:"none",color:"black"},to:"/profilesettings"},"Your Account")),r.a.createElement(v.a.Item,null,r.a.createElement(h.d,{style:{textDecoration:"none",color:"black"},to:"/loginSettings"},"Your Login Settings")),r.a.createElement(v.a.Item,null,r.a.createElement(h.d,{style:{textDecoration:"none",color:"black"},to:"/addressSettings"},"Your Addresses")),r.a.createElement(v.a.Item,null,r.a.createElement(h.d,{style:{textDecoration:"none",color:"black"},to:"/paymentSettings"},"Your Payment Methods")),r.a.createElement(v.a.Item,null,r.a.createElement(h.d,{style:{textDecoration:"none",color:"black"},to:"/",onClick:this.handleLogout},"Sign Out")))))):r.a.createElement("div",null,r.a.createElement(h.d,{style:{textDecoration:"none",color:"black"},to:"/Profile"},"Login / Register "),r.a.createElement(h.d,{style:{textDecoration:"none",color:"black"},to:"/ShoppingCart"},"Shopping Cart "),r.a.createElement(h.d,{style:{textDecoration:"none",color:"black"},to:"/BookDetails"},"Book Details "),r.a.createElement(h.d,{style:{textDecoration:"none",color:"black"},to:"/Wishlist"},"Wishlist "),r.a.createElement(h.d,{style:{textDecoration:"none",color:"black"},to:"/Reviews"},"Reviews "))}}]),t}(n.Component),k=a(47),C=a(22),O=a(50),j=a(234),S=a(51),x=a(208);function N(){var e=Object(O.a)(["\n    display: -ms-grid;\n    unicode-bidi: isolate;\n    margin-block-start: 0.5em;\n    margin-block-end: 0.5em;\n    margin-inline-start: auto;\n    margin-inline-end: auto;\n"]);return N=function(){return e},e}function I(){var e=Object(O.a)(["\n    padding-left: 275px;\n    text-align: center;\n"]);return I=function(){return e},e}function L(){var e=Object(O.a)(["\n    padding-left: 10px;\n    float: left;\n"]);return L=function(){return e},e}function w(){var e=Object(O.a)(["\n    width: 100%;\n    text-align: -webkit-center;\n"]);return w=function(){return e},e}var A=S.a.div(w()),P=S.a.div(L()),T=S.a.div(I()),B=S.a.hr(N());var D=function(e){return r.a.createElement("div",null,r.a.createElement(A,null,r.a.createElement(P,null,r.a.createElement("img",{id:"cover",src:e.bookInfo.cover,alt:"Image not available",onClick:function(){!function(e){var t=document.getElementById("myModal"),a=document.getElementById("img01"),n=document.getElementById("caption");t.style.display="block",a.src=e.bookInfo.cover,n.innerHTML=e.bookInfo.title}(e)}})),r.a.createElement(T,null,r.a.createElement(x.a,null,r.a.createElement(j.a,null,"Title: ",r.a.createElement(g.a,{component:h.c,to:{pathname:"/bookDetails",state:{book:e}},style:{color:"MediumBlue"},underline:"always"},e.bookInfo.title)),r.a.createElement(j.a,null,"Author: ",r.a.createElement(g.a,{component:h.c,to:"/authorPage/"+e.bookInfo.author,style:{color:"MediumBlue"},underline:"always"},e.bookInfo.author)),r.a.createElement(j.a,null,"Genre: ",e.bookInfo.genre),r.a.createElement(j.a,null,"Publisher: ",e.bookInfo.publisher),r.a.createElement(j.a,null,"Publish Date: ",e.bookInfo.pub_date),r.a.createElement(j.a,null,"Price: $",e.bookInfo.price))),r.a.createElement(B,null)))},F=a(13),M=a.n(F),R=function(e){return M.a.post("/api/auth",e)},H=function(e){return M.a.post("/api/auth/create",e)},_=function(e){var t=localStorage.getItem("auth_token");return M.a.post("/api/user/getUser",e,{headers:{"x-access-token":t}})},U=function(e){var t=localStorage.getItem("auth_token");return M.a.post("/api/user/updateUser",e,{headers:{"x-access-token":t}})},G=function(e){var t=localStorage.getItem("auth_token");return M.a.post("/api/profilemanagement/updateUserEmail",e,{headers:{"x-access-token":t}})},$=function(e){var t=localStorage.getItem("auth_token");return M.a.post("/api/profilemanagement/getShippingAddressesByUser",e,{headers:{"x-access-token":t}})},Y=function(e){var t=localStorage.getItem("auth_token");return M.a.post("/api/profilemanagement/addShippingAddress",e,{headers:{"x-access-token":t}})},K=function(e){var t=localStorage.getItem("auth_token");return M.a.post("/api/profilemanagement/deleteShippingAddress",e,{headers:{"x-access-token":t}})},V=function(e){var t=localStorage.getItem("auth_token");return M.a.post("/api/profilemanagement/updateShippingAddress",e,{headers:{"x-access-token":t}})},W=function(e){var t=localStorage.getItem("auth_token");return M.a.post("/api/profilemanagement/removeCreditCard",e,{headers:{"x-access-token":t}})},J=function(e){var t=localStorage.getItem("auth_token");return M.a.post("/api/profilemanagement/addCreditCard",e,{headers:{"x-access-token":t}})},z=function(e){var t=localStorage.getItem("auth_token");return M.a.post("/api/profilemanagement/getCreditCardsByUser",e,{headers:{"x-access-token":t}})},q=function(e){var t=localStorage.getItem("auth_token");return M.a.post("/api/profilemanagement/updateCreditCard",e,{headers:{"x-access-token":t}})},Q=function(e){return M.a.post("/api/search/getAllBooks",e)},X=a(119),Z=a.n(X),ee=a(120),te=a.n(ee);function ae(){var e=Object(O.a)(["\n    text-align: center;\n"]);return ae=function(){return e},e}function ne(){var e=Object(O.a)(["\n    width: 60%;\n    padding-top: 100px;\n    float: right;\n"]);return ne=function(){return e},e}var re=S.a.div(ne()),le=S.a.div(ae()),oe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onChangePage=function(e){console.log(Math.ceil(a.state.books.length/10)),a.setState({onPage:e})},a.state={allBooks:[],books:[],fi:[],onPage:1,order:"ASC",pageSize:10,activePage:1,itemsCountPerPage:1,pageRangeDisplayed:4,totalItemsCount:1,sort:"title"},a.retriveResults=a.retriveResults.bind(Object(d.a)(a)),a.returnList=a.returnList.bind(Object(d.a)(a)),a.showNoResults=a.showNoResults.bind(Object(d.a)(a)),a.changeState=a.changeState.bind(Object(d.a)(a)),a.ASC=a.ASC.bind(Object(d.a)(a)),a.DESC=a.DESC.bind(Object(d.a)(a)),a.ASC.handlePageChange=a.handlePageChange.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.retriveResults(this.props.match.params.term),this.props.pageSize&&this.setState({size:this.props.pageSize})}},{key:"handlePageChange",value:function(e){console.log("active\xa0page\xa0is\xa0".concat(e)),M.a.get("http://localhost:3000/#/bookList?page="+e).then.setState({books:this.props.books,itemsCountPerPage:this.props.itemsCountPerPage,totalItemsCount:this.props.totalItemsCount,activePage:this.props.activePage})}},{key:"shouldComponentUpdate",value:function(e,t){return console.log(t),console.log(this.state),(this.props.match.params.term!==e.match.params.term||this.state.books.length!==t.books.length||t.order!==this.state.order)&&(this.retriveResults(e.match.params.term),!0)}},{key:"changeState",value:function(e){this.setState({books:e})}},{key:"DESC",value:function(e){console.log(e.target.value),this.setState({order:e.target.value})}},{key:"ASC",value:function(e){console.log(e.target.value),this.setState({order:e.target.value})}},{key:"retriveResults",value:function(e){var t=this;Q(e).then((function(e){return t.state.allBooks=e.data})).catch((function(e){return alert("Search error - "+e)})),this.state.books=te.a.from(this.state.allBooks).where((function(t){return JSON.stringify(t.title).includes(e)})).toArray()}},{key:"returnList",value:function(){if(0!==this.state.books.length&&"0 results"!==this.state.books)return this.state.books.map((function(e,t){return r.a.createElement(D,{bookInfo:e,key:t,bookIndex:t})}))}},{key:"showNoResults",value:function(){if(0===this.state.books.length)return r.a.createElement(le,null,r.a.createElement("p",null,"No titles found (0 hits) - Try these tips:"),r.a.createElement("p",null,"Try a different kind of search:"),r.a.createElement("p",null,"Do a browse search by title, typing just the first few letters of the title."),r.a.createElement("p",null,"Do a browse search by author, typing just the first few letters of the author's first or last name."),r.a.createElement("p",null,"Do a browse search by genre, typing just the first few letters of the genre"))}},{key:"render",value:function(){var e;return r.a.createElement("div",null,this.showNoResults(),r.a.createElement("button",{id:"searchText"},"TOP BOOKS"),r.a.createElement(re,null,r.a.createElement(Z.a,(e={class:"d-flex justify-content-center",activePage:this.state.activePage,totalItemsCount:this.state.totalItemsCount,itemsCountPerPage:this.state.itemsCountPerPage},Object(C.a)(e,"totalItemsCount",this.state.totalItemsCount),Object(C.a)(e,"pageRangeDisplayed",this.state.pageRangeDisplayed),Object(C.a)(e,"onChange",this.handlePageChange),Object(C.a)(e,"itemClass","page-item"),Object(C.a)(e,"linkClass","page-link"),Object(C.a)(e,"total",this.state.books.length),e)),this.returnList()),r.a.createElement("p",null,"ORDER THE BOOKS"),r.a.createElement("select",{defaultValue:this.state.order,onChange:this.ASC},r.a.createElement("option",{value:"ASC",onClick:this.ASC},"DESCENDING"),r.a.createElement("option",{value:"DESC",onClick:this.DESC},"ASCENDING")),r.a.createElement("div",{id:"listContainer"},r.a.createElement("input",{onFocus:this.setTextBoxListner,id:"searchText",placeholder:"Author, Genre, Title ",onChange:this.handleSearch})))}}]),t}(n.Component),ce=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{"font-family":"Courier New"},"Home Page"))}}]),t}(n.Component),ie=a(8),se=a(209),me=a(226),ue=a(224),de=a(115);var pe=function(){var e=Object(n.useState)(!1),t=Object(ie.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),c=Object(ie.a)(o,2),i=c[0],s=c[1],m=Object(n.useState)(""),u=Object(ie.a)(m,2),d=u[0],p=u[1],h=Object(n.useState)(""),g=Object(ie.a)(h,2),f=g[0],E=g[1],b=Object(n.useState)(""),v=Object(ie.a)(b,2),y=v[0],k=v[1];function C(e){e.preventDefault(),H({firstName:d,lastName:f,email:i,password:y,homeAddress:"",nickname:""}).then((function(e){return alert("Account Created")})).catch((function(e){return function(e){e.response&&409===e.response.status?l(!0):alert("Account creation error - "+e)}(e)}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{style:{paddingTop:"20px"}},a?r.a.createElement(me.a,{dismissable:!0,variant:"danger",onClose:function(){l(!1)}},"There exists a user with that email address"):null,r.a.createElement(ue.a,{onSubmit:function(e){return C(e)}},r.a.createElement(ue.a.Group,{controlId:"CreateAccountForm.firstName"},r.a.createElement(ue.a.Label,null,"First Name"),r.a.createElement(ue.a.Control,{type:"text",value:d,onChange:function(e){p(e.currentTarget.value)}})),r.a.createElement(ue.a.Group,{controlId:"CreateAccountForm.lastName"},r.a.createElement(ue.a.Label,null,"Last Name"),r.a.createElement(ue.a.Control,{type:"text",value:f,onChange:function(e){E(e.currentTarget.value)}})),r.a.createElement(ue.a.Group,{controlId:"CreateAccountForm.email"},r.a.createElement(ue.a.Label,null,"Email"),r.a.createElement(ue.a.Control,{type:"email",placeholder:"foo@bar.com",value:i,onChange:function(e){s(e.currentTarget.value)}})),r.a.createElement(ue.a.Group,{controlId:"CreateAccountForm.password"},r.a.createElement(ue.a.Label,null,"Password"),r.a.createElement(ue.a.Control,{type:"password",value:y,onChange:function(e){k(e.currentTarget.value)}})),r.a.createElement(de.a,{type:"submit"},"Register"))))},he=a(211);var ge=function(e){var t=Object(n.useState)(e.email),a=Object(ie.a)(t,2),l=a[0],o=(a[1],Object(n.useState)(e.nickname)),c=Object(ie.a)(o,2),i=c[0],s=c[1];return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("b",null,"Edit Nickname")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a={primaryKeys:{email:l},updates:{$set:{nickname:i}}};U(a).then((function(){return e.onNicknameUpdate(a.updates.$set.nickname)})).catch((function(e){return alert(e)}))}},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col"},r.a.createElement("label",{htmlFor:"userNickname"},"Nickname:"),r.a.createElement("input",{id:"userNickname",className:"form-control",type:"text",placeholder:" ",value:i,onChange:function(e){s(e.target.value)}}))),r.a.createElement("button",{className:"btn btn-primary float-right",type:"submit"},"Save Changes"))))};var fe=function(e){var t=Object(n.useState)(e.email),a=Object(ie.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(e.email),i=Object(ie.a)(c,2),s=i[0],m=i[1],u=Object(n.useState)(e.firstName),d=Object(ie.a)(u,2),p=d[0],h=d[1],g=Object(n.useState)(e.lastName),f=Object(ie.a)(g,2),E=f[0],b=f[1],v=Object(n.useState)(e.homeAddress),y=Object(ie.a)(v,2),k=y[0],C=y[1];function O(e){/^[^0-9*|/,#-%.?!":<>[\]{}`\\()';@^&~+_=$]+$/.test(e.key)||e.preventDefault()}return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("b",null,"Edit Personal Information")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),l!==s){var a={primaryKeys:{email:s},updates:{$set:{email:l}}};G(a).then((function(){m(a.updates.$set.email);var t={primaryKeys:{email:a.updates.$set.email},updates:{$set:{firstName:p,lastName:E,email:l,homeAddress:k}}};U(t).then((function(){return e.onNewPersonalInfo(t.updates.$set.firstName,t.updates.$set.lastName,t.updates.$set.homeAddress)})).catch((function(e){return alert("Error updating personal info: "+e)}))})).catch((function(e){return alert("Error updating email: "+e)}))}else{var n={primaryKeys:{email:s},updates:{$set:{firstName:p,lastName:E,homeAddress:k}}};U(n).then((function(){return e.onNewPersonalInfo(n.updates.$set.firstName,n.updates.$set.lastName,n.updates.$set.email,n.updates.$set.homeAddress)})).catch((function(e){return alert(e)}))}}},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col"},r.a.createElement("label",{htmlFor:"userFirstName"},"First Name:"),r.a.createElement("input",{id:"userFirstName",className:"form-control",type:"text",placeholder:"",value:p,onKeyPress:O,onChange:function(e){h(e.target.value)}})),r.a.createElement("div",{className:"form-group col"},r.a.createElement("label",{htmlFor:"userLastName"},"Last Name:"),r.a.createElement("input",{id:"userLastName",className:"form-control",type:"text",placeholder:"",value:E,onKeyPress:O,onChange:function(e){b(e.target.value)}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"userEmail"},"Email:"),r.a.createElement("input",{id:"userEmail",className:"form-control",type:"email",placeholder:"",value:l,onChange:function(e){o(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"userAddress"},"Address:"),r.a.createElement("input",{id:"userAddress",className:"form-control",type:"text",placeholder:" ",value:k,onChange:function(e){C(e.target.value)}})),r.a.createElement("button",{className:"btn btn-primary float-right",type:"submit"},"Save Changes"))))},Ee=a(227),be=a(225),ve=a(210);var ye=function(e){var t=Object(n.useState)([]),a=Object(ie.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)([]),i=Object(ie.a)(c,2),s=i[0],m=i[1],u=Object(n.useState)(""),d=Object(ie.a)(u,2),p=d[0],h=d[1],g=Object(n.useState)(e.email),f=Object(ie.a)(g,1)[0],E=Object(n.useState)(!1),b=Object(ie.a)(E,2),v=b[0],y=b[1];function k(){$({email:f}).then((function(e){o(e.data),m(e.data),console.log(e.data)})).catch((function(e){return console.log(e)}))}return Object(n.useEffect)((function(){k()}),[]),Object(n.useEffect)((function(){y(!!p)})),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,null,s.map((function(e,t){return r.a.createElement(be.a,{key:t},r.a.createElement(be.a.Item,{key:t},r.a.createElement("input",{type:"text",placeholder:e.address,onChange:function(e){!function(e,t){var a=s;a[t]={email:f,address:e},m(a)}(e.target.value,t)}}),r.a.createElement(ve.a,{className:"float-right"},r.a.createElement(de.a,{onClick:function(){return function(e){var t={primaryKeys:{email:f,address:l[e].addresses},updates:{$set:{address:s[e].address}}};V(t).then((function(){k(),alert("Shipping Address updated!")})).catch((function(e){console.log("Error updating shipping address: "+e)}))}(t)}},"Save Changes"),r.a.createElement(de.a,{onClick:function(){return function(e){K(s[e]).then((function(e){k()})).catch((function(e){return console.log(e)}))}(t)},variant:"danger"},"Delete"))))}))),r.a.createElement(ue.a,{onSubmit:function(e){e.preventDefault(),Y({email:f,address:p}).then((function(){k(),h("")})).catch((function(e){return console.log(e)}))}},r.a.createElement(ue.a.Group,null,r.a.createElement(ue.a.Label,null,"Address:"),r.a.createElement(ue.a.Control,{placeholder:"182 Main St",value:p,onChange:function(e){h(e.currentTarget.value)}})),r.a.createElement(de.a,{className:"float-right",type:"submit",variant:"primary",disabled:!v},"Add address")))},ke=function(e){var t=Object(n.useState)(e.email),a=Object(ie.a)(t,1)[0];return r.a.createElement(Ee.a,null,r.a.createElement(Ee.a.Header,null,r.a.createElement("b",null,"Edit Shipping Addresses")),r.a.createElement(Ee.a.Body,null,r.a.createElement(ye,{email:a})))},Ce=a(123);var Oe=function(e){var t=Object(n.useState)(e.email),a=Object(ie.a)(t,1)[0],l=Object(n.useState)([]),o=Object(ie.a)(l,2),c=o[0],i=o[1],s=Object(n.useState)([]),m=Object(ie.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(""),h=Object(ie.a)(p,2),g=h[0],f=h[1],E=Object(n.useState)(""),b=Object(ie.a)(E,2),v=b[0],y=b[1],k=Object(n.useState)("January"),C=Object(ie.a)(k,2),O=C[0],j=C[1],S=Object(n.useState)(""),x=Object(ie.a)(S,2),N=x[0],I=x[1],L=Object(n.useState)(!1),w=Object(ie.a)(L,2),A=w[0],P=w[1];Object(n.useEffect)((function(){D()}),[]),Object(n.useEffect)((function(){g&&N&&v?g.length<1||N.length<1||v.length<1?P(!1):P(!0):P(!1)}));var T=["January","February","March","April","May","June","July","August","September","October","November","December"];function B(e){var t=e.currentTarget.value,a=t.charCodeAt(t.length-1);(a<48||a>57)&&(e.currentTarget.value=t.slice(0,t.length-1)),t.length>e.currentTarget.maxLength&&(e.currentTarget.value=t.slice(0,e.currentTarget.maxLength))}function D(){z({email:a}).then((function(e){i(e.data),d(e.data)})).catch((function(e){return console.log(e)}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,null,u.map((function(e,t){return r.a.createElement(be.a,{key:t},r.a.createElement(be.a.Item,{key:t},r.a.createElement(ue.a.Group,{controlId:"EditProfileComponent.creditCardNumber"},r.a.createElement(ue.a.Label,null," Credit Card Number"),r.a.createElement(ue.a.Control,{type:"text",maxLength:"16",onInput:B,placeholder:e.creditCardNum,onChange:function(e){!function(e,t){var a=u[t];a.creditCardNum=e;var n=u;n[t]=a,d(n)}(e.target.value,t)}})),r.a.createElement(ue.a.Label,null," Expiration Date"),r.a.createElement(ue.a.Row,{controlId:"EditProfileComponent.expirationDate"},r.a.createElement(ue.a.Group,{as:Ce.a,md:"4"},r.a.createElement(ue.a.Control,{as:"select",placeholder:e.expirationMonth,onChange:function(e){!function(e,t){var a=u[t];a.expirationMonth=e;var n=u;n[t]=a,d(n)}(e.target.value,t)}},T.map((function(e){return r.a.createElement("option",null,e)})))),r.a.createElement(ue.a.Group,{as:Ce.a,md:"4"},r.a.createElement(ue.a.Control,{type:"text",maxLength:"4",onInput:B,placeholder:e.expirationYear,onChange:function(e){!function(e,t){var a=u[t];a.expirationYear=e;var n=u;n[t]=a,d(n)}(e.target.value,t)}}))),r.a.createElement(ue.a.Group,{controlId:"EditProfileComponent.CVV"},r.a.createElement(ue.a.Label,null," Security Code"),r.a.createElement(ue.a.Control,{style:{width:"25%"},type:"text",maxLength:"3",onInput:B,onChange:function(e){!function(e,t){var a=u[t];a.cvv=e;var n=u;n[t]=a,d(n)}(e.target.value,t)},placeholder:e.cvv})),r.a.createElement(ve.a,{className:"float-right"},r.a.createElement(de.a,{onClick:function(){return function(e){var t={primaryKeys:{email:a,creditCardNum:c[e].creditCardNumber},updates:{$set:{creditCardNum:u[e].creditCardNum,cvv:u[e].cvv,expirationYear:u[e].expirationYear,expirationMonth:u[e].expirationMonth}}};q(t).then((function(){D(),alert("Credit Card updated!")})).catch((function(e){console.log("Error updating credit card: "+e)}))}(t)}},"Save Changes"),r.a.createElement(de.a,{onClick:function(){return function(e){W(c[e]).then((function(){D()})).catch((function(e){return console.log(e)}))}(t)},variant:"danger"},"Delete"))))}))),r.a.createElement(ue.a,{onSubmit:function(e){e.preventDefault(),J({email:a,creditCardNum:g,expirationMonth:O,expirationYear:N,cvv:v}).then((function(){D(),f(""),y(""),j(""),I("")})).catch((function(e){return console.log(e)}))}},r.a.createElement("div",{className:"card-header"},r.a.createElement("b",null,"New Credit Card")),r.a.createElement(Ee.a,null,r.a.createElement(ue.a.Group,{controlId:"EditProfileComponent.creditCardNumber"},r.a.createElement(ue.a.Label,null," Credit Card Number"),r.a.createElement(ue.a.Control,{type:"text",maxLength:"16",onInput:B,value:g,onChange:function(e){f(e.target.value)}})),r.a.createElement(ue.a.Label,null," Expiration Date"),r.a.createElement(ue.a.Row,{controlId:"EditProfileComponent.expirationDate"},r.a.createElement(ue.a.Group,{as:Ce.a,md:"4"},r.a.createElement(ue.a.Control,{as:"select",value:O,onChange:function(e){j(e.target.value)}},T.map((function(e){return r.a.createElement("option",null,e)})))),r.a.createElement(ue.a.Group,{as:Ce.a,md:"4"},r.a.createElement(ue.a.Control,{type:"text",maxLength:"4",onInput:B,value:N,onChange:function(e){I(e.target.value)},placeholder:"Year"}))),r.a.createElement(ue.a.Group,{controlId:"EditProfileComponent.CVV"},r.a.createElement(ue.a.Label,null," Security Code"),r.a.createElement(ue.a.Control,{style:{width:"25%"},type:"text",maxLength:"3",onInput:B,value:v,onChange:function(e){y(e.target.value)},placeholder:"CVV"}),r.a.createElement(de.a,{className:"float-right",type:"submit",disabled:!A},"Add credit card")))))};var je=function(e){var t=Object(n.useState)(e.email),a=Object(ie.a)(t,2),l=a[0];return a[1],r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("b",null,"Edit Credit Cards")),r.a.createElement(Oe,{email:l}))};var Se=function(e){var t=Object(n.useState)(""),a=Object(ie.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(e.userEmail),i=Object(ie.a)(c,2),s=i[0],m=i[1],u=Object(n.useState)(""),d=Object(ie.a)(u,2),p=d[0],h=d[1],g=Object(n.useState)(""),f=Object(ie.a)(g,2),E=f[0],b=f[1],v=Object(n.useState)(""),y=Object(ie.a)(v,2),k=y[0],C=y[1],O=Object(n.useState)(!1),j=Object(ie.a)(O,2),S=j[0],x=j[1];return Object(n.useEffect)((function(){_({email:s}).then((function(e){o(e.data.nickname),h(e.data.firstName),b(e.data.lastName),C(e.data.homeAddress),x(!0)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{style:{paddingTop:"20px"}},S?r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,{nickname:l,email:s,onNicknameUpdate:function(e){o(e),alert("Nickname Updated!")}}),r.a.createElement(fe,{firstName:p,lastName:E,email:s,homeAddress:k,onNewPersonalInfo:function(e,t,a,n){h(e),b(t),m(a),C(n),alert("Personal Information Updated!")}}),r.a.createElement(ke,{email:s}),r.a.createElement(je,{email:s})):r.a.createElement(he.a,{animation:"border",variant:"primary"})))},xe=a(129);var Ne=function(e){var t=Object(n.useState)(!1),a=Object(ie.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(""),i=Object(ie.a)(c,2),s=i[0],m=i[1],u=Object(n.useState)(""),d=Object(ie.a)(u,2),p=d[0],h=d[1],g=Object(n.useState)(!1),f=Object(ie.a)(g,2),E=f[0],b=f[1];function v(t){t.preventDefault();var a={email:s,password:p};R(a).then((function(t){return function(t,a){localStorage.setItem("auth_token",t.data),_({email:a}).then((function(t){b(!0),e.handleAuth(!0)})).catch((function(e){return alert("Login error - "+e)}))}(t,a.email)})).catch((function(e){return function(e){e.response&&401===e.response.status?o(!0):alert("Login error - "+e)}(e)}))}return r.a.createElement(r.a.Fragment,null,E?r.a.createElement(k.a,{to:"/"}):null,r.a.createElement(se.a,{style:{paddingTop:"20px"}},l?r.a.createElement(me.a,{dismissable:!0,variant:"danger",onClose:function(){o(!1)}},"Incorrect Email or Password"):null,r.a.createElement(ue.a,{inline:!0,onSubmit:function(e){return v(e)}},r.a.createElement(ue.a.Group,{controlId:"LoginForm.email"},r.a.createElement(ue.a.Label,null,"Email"),r.a.createElement(ue.a.Control,{type:"email",placeholder:"foo@bar.com",value:s,onChange:function(e){m(e.currentTarget.value)}})),r.a.createElement(ue.a.Group,{controlId:"LoginForm.password"},r.a.createElement(ue.a.Label,null,"Password"),r.a.createElement(ue.a.Control,{type:"password",value:p,onChange:function(e){h(e.currentTarget.value)}})),r.a.createElement(de.a,{type:"Submit"},"Login"))))},Ie=a(89),Le=a.n(Ie),we={isAuthenticated:function(){var e=localStorage.getItem("auth_token");return!!e&&(!!e&&!this.isTokenExpired(e))},isTokenExpired:function(e){try{return Le()(e,{header:!0}).exp<Date.now()/1e3}catch(t){return!1}},getProfile:function(){return Le()(localStorage.getItem("auth_token"))}},Ae=function(){var e=Object(n.useState)(!1),t=Object(ie.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(we.isAuthenticated()),c=Object(ie.a)(o,2),i=c[0],s=c[1];return r.a.createElement(xe.a,{bg:"primary",expand:"lg"},a?r.a.createElement(k.a,{to:"/register/"}):null,i?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(v.a.Toggle,{variant:"secondary",id:"dropdown-basic"},"Menu"),r.a.createElement(v.a.Menu,null,r.a.createElement(v.a.Item,{as:h.c,to:"/editProfile"},"Edit Profile"),r.a.createElement(v.a.Divider,null),r.a.createElement(v.a.Item,{onClick:function(){localStorage.removeItem("auth_token"),s(!1),l(!0)}},"Logout"))),r.a.createElement("b",null,"Hello! ",we.getProfile().username)):r.a.createElement(Ne,{handleAuth:s}))},Pe=a(10);var Te=function(e){var t=e.component,a=Object(Pe.a)(e,["component"]);return r.a.createElement(k.b,Object.assign({},a,{render:function(e){return we.isAuthenticated()?r.a.createElement(t,e):r.a.createElement(k.a,{to:{pathname:"/register",state:{from:e.location}}})}}))};var Be=function(){var e=Object(n.useState)(null),t=Object(ie.a)(e,2);return t[0],t[1],r.a.createElement(h.a,null,r.a.createElement(Ae,null),r.a.createElement(k.b,{path:"/register",component:pe}),r.a.createElement(Te,{path:"/editProfile",component:function(){return r.a.createElement(Se,{userEmail:we.getProfile().username})}}))},De=a(90),Fe=a.n(De),Me=a(124),Re=a(212),He=(a(168),a(229));var _e=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"shopcart-pagination"},r.a.createElement(He.a,{"aria-label":"Page navigation"},r.a.createElement(He.a.First,null),r.a.createElement(He.a.Prev,null),r.a.createElement(He.a.Item,null,1),r.a.createElement(He.a.Ellipsis,null),r.a.createElement(He.a.Item,null,10),r.a.createElement(He.a.Item,{active:!0},11),r.a.createElement(He.a.Item,{disabled:!0},12),r.a.createElement(He.a.Next,{disabled:!0}),r.a.createElement(He.a.Last,{disabled:!0}))))};var Ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={email:"",name:"",description:"",bookID:0,info:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Me.a)(Fe.a.mark((function e(){var t,a,n=this;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("/api/ShoppingCart/displayAll").then((function(e){n.setState({email:a.email,name:a.name,description:a.description,bookID:a.bookID,info:["test info"]})}));case 2:t=e.sent,a=t.data;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"oneItemCreatorStatic",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a.Item,null,r.a.createElement(Re.a,null,r.a.createElement("img",{width:64,height:64,src:"https://thenypost.files.wordpress.com/2015/07/to_kill_a_mockingbird.jpg"}),r.a.createElement(Re.a.Body,null,r.a.createElement("h2",null,"Heading item 1 dynamic"),r.a.createElement("p",null,"Description item here")))))}},{key:"oneItemCreatorSample",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a.Item,null,r.a.createElement(Re.a,null,r.a.createElement("img",{width:64,height:64,src:"https://thenypost.files.wordpress.com/2015/07/to_kill_a_mockingbird.jpg"}),r.a.createElement(Re.a.Body,null,r.a.createElement("h2",null,"To Kill a Mockingbird"),r.a.createElement("p",null,"To Kill a Mockingbird is a novel by Harper Lee published in 1960...")))),r.a.createElement(be.a.Item,null,r.a.createElement(Re.a,null,r.a.createElement("img",{width:64,height:64,src:"https://media.bloomsbury.com/rep/bj/9781408827765.jpg"}),r.a.createElement(Re.a.Body,null,r.a.createElement("h2",null,"One Thousand and One Nights"),r.a.createElement("p",null,"One Thousand and One Nights is a collection of Middle Eastern fol...")))),r.a.createElement(be.a.Item,null,r.a.createElement(Re.a,null,r.a.createElement("img",{width:64,height:64,src:"https://upload.wikimedia.org/wikipedia/en/0/01/OfMiceAndMen.jpg"}),r.a.createElement(Re.a.Body,null,r.a.createElement("h2",null,"Of Mice and Men"),r.a.createElement("p",null,"Of Mice and Men is a novella written by John Steinbeck. Publish...")))))}},{key:"ShopCartList",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(be.a,null,this.oneItemCreatorSample())),r.a.createElement("div",null))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.ShopCartList(),r.a.createElement(_e,null))}}]),t}(n.Component),Ge=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(){var e=a.props,t=e.label;(0,e.onClick)(t)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.onClick,t=this.props,a=t.activeTab,n=t.label,l="tab-list-item";return a===n&&(l+=" tab-list-active"),r.a.createElement("li",{className:l,onClick:e},n)}}]),t}(n.Component),$e=a(213),Ye=a(214),Ke=a(215),Ve=a(216),We=a(230),Je=a(231),ze=a(217),qe=a(228),Qe=a(218),Xe=a(219),Ze=a(220),et=a(125),tt=a(232),at=a(221),nt=a(222),rt=a(223),lt=function(e){var t=Object(n.useState)(!1),a=Object(ie.a)(t,2),l=a[0],o=a[1],c=(e.buttonLabel,e.className),i=Object(n.useState)(!1),s=Object(ie.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(!0),p=Object(ie.a)(d,2),h=p[0],g=(p[1],function(){return u(!m)});return r.a.createElement("div",{className:"ShoppingListMain",style:{paddingLeft:"100px",paddingTop:"100px"}},r.a.createElement("h1",{style:{marginBottom:"0px"}},"Book Wish List"),r.a.createElement("p",null,"Add a book to an existing Wish List or create a new list "),r.a.createElement("div",{className:"header"},r.a.createElement($e.a,{inline:!0},r.a.createElement(Ye.a,{className:"mb-2 mr-sm-2 mb-sm-0"},r.a.createElement(Ke.a,{type:"form",placeholder:"Enter the name of a book"})),r.a.createElement(Ve.a,{isOpen:l,toggle:function(){return o((function(e){return!e}))},size:"sm"},r.a.createElement(We.a,{caret:!0},"Add"),r.a.createElement(Je.a,null,r.a.createElement(ze.a,{header:!0},"Your Lists"),r.a.createElement(ze.a,{divider:!0}),r.a.createElement(ze.a,null,"Fiction"),r.a.createElement(ze.a,null,"Horror"),r.a.createElement(ze.a,null,"Self-Help"),r.a.createElement(ze.a,null,"Biography"),r.a.createElement(ze.a,{divider:!0}),r.a.createElement(ze.a,{onClick:g},"New List")))),r.a.createElement("a",{href:"#",id:"toggler",style:{paddingLeft:"5px",paddingTop:"10px"}},"View Lists")),r.a.createElement("div",null,r.a.createElement(qe.a,{isOpen:m,toggle:g,className:c,unmountOnClose:h},r.a.createElement(Qe.a,{toggle:g},"Create a new List"),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,{type:"textform"})),r.a.createElement(Ze.a,null,r.a.createElement(et.a,{color:"primary",onClick:g},"Create List")," ",r.a.createElement(et.a,{color:"secondary",onClick:g},"Cancel")))),r.a.createElement("div",null,r.a.createElement(tt.a,{toggler:"#toggler"},r.a.createElement(at.a,{flush:!0,style:{marginRight:"75%"}},r.a.createElement(nt.a,{tag:"a",href:"#",id:"toggle-fiction"},"Fiction",r.a.createElement(rt.a,{pill:!0,style:{marginLeft:"2%"}},"6")),r.a.createElement(tt.a,{toggler:"#toggle-fiction"},r.a.createElement("p",{style:{marginLeft:"10%",marginBottom:"0px",marginTop:"2%"}},"Of Mice and Men"),r.a.createElement("p",{style:{marginLeft:"10%",marginBottom:"0px"}},"Maximum Ride"),r.a.createElement("p",{style:{marginLeft:"10%",marginBottom:"0px"}},"Game of Thrones"),r.a.createElement("p",{style:{marginLeft:"10%",marginBottom:"0px"}},"God is Dead"),r.a.createElement("p",{style:{marginLeft:"10%",marginBottom:"0px"}},"Epitomes of Conviction"),r.a.createElement("p",{style:{marginLeft:"10%",marginBottom:"2%"}},"Hell Buried")),r.a.createElement(nt.a,{tag:"a",href:"#",id:"toggle-horror"},"Horror",r.a.createElement(rt.a,{pill:!0,style:{marginLeft:"2%"}},"3")),r.a.createElement(tt.a,{toggler:"#toggle-horror"},r.a.createElement("p",{style:{marginLeft:"10%",marginBottom:"0px",marginTop:"2%"}},"The Shining"),r.a.createElement("p",{style:{marginLeft:"10%",marginBottom:"0px"}},"Scratches"),r.a.createElement("p",{style:{marginLeft:"10%",marginBottom:"2%"}},"The Hostile Hospital")),r.a.createElement(nt.a,{tag:"a",href:"#",id:"toggle-SH"},"Self-Help",r.a.createElement(rt.a,{pill:!0,style:{marginLeft:"2%"}},"1")),r.a.createElement(tt.a,{toggler:"#toggle-SH"},r.a.createElement("p",{style:{marginLeft:"10%",marginBottom:"2%",marginTop:"2%"}},"How To Be A Badass")),r.a.createElement(nt.a,{tag:"a",href:"#",id:"toggle-bio"},"Biography",r.a.createElement(rt.a,{pill:!0,style:{marginLeft:"2%"}},"5")),r.a.createElement(tt.a,{toggler:"#toggle-bio"},r.a.createElement("p",{style:{marginLeft:"10%",marginBottom:"0px",marginTop:"2%"}},"Slash: A Rockstars Guide to Life"),r.a.createElement("p",{style:{marginLeft:"10%",marginBottom:"0px"}},"Some Book About Oprah"),r.a.createElement("p",{style:{marginLeft:"10%",marginBottom:"0px"}},"Morgan Freeman Has A Cool Voice: Heres Why"),r.a.createElement("p",{style:{marginLeft:"10%",marginBottom:"0px"}},"Obama? Obama."),r.a.createElement("p",{style:{marginLeft:"10%",marginBottom:"0px"}},"A Day In The Life of a Wendy's Employee"))))))},ot=a(59),ct=a(5),it=a.n(ct),st=a(67),mt=a(81);st.b.add(mt.a);var ut=a(128),dt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this))).state={value:e.value},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value;null!=t&&t!==this.state.value&&this.setState({value:t})}},{key:"onChange",value:function(e){var t=this.props,a=t.editing,n=t.value;a&&null==n&&this.setState({value:e})}},{key:"onStarClick",value:function(e,t,a,n){n.stopPropagation();var r=this.props,l=r.onStarClick;r.editing&&l&&l(e,t,a,n)}},{key:"onStarHover",value:function(e,t,a,n){n.stopPropagation();var r=this.props,l=r.onStarHover;r.editing&&l&&l(e,t,a,n)}},{key:"onStarHoverOut",value:function(e,t,a,n){n.stopPropagation();var r=this.props,l=r.onStarHoverOut;r.editing&&l&&l(e,t,a,n)}},{key:"renderStars",value:function(){for(var e=this,t=this.props,a=t.name,n=t.starCount,l=t.starColor,o=t.emptyStarColor,c=t.editing,i=this.state.value,s=function(e,t){return{float:"right",cursor:c?"pointer":"default",color:t>=e?l:o}},m={display:"none",position:"absolute",marginLeft:-9999},u=[],d=function(t){var n="".concat(a,"_").concat(t),l=r.a.createElement("input",{key:"input_".concat(n),style:m,className:"dv-star-rating-input",type:"radio",name:a,id:n,value:t,checked:i===t,onChange:e.onChange.bind(e,t,a)}),o=r.a.createElement("label",{key:"label_".concat(n),style:s(t,i),className:"dv-star-rating-star "+(i>=t?"dv-star-rating-full-star":"dv-star-rating-empty-star"),htmlFor:n,onClick:function(n){return e.onStarClick(t,i,a,n)},onMouseOver:function(n){return e.onStarHover(t,i,a,n)},onMouseLeave:function(n){return e.onStarHoverOut(t,i,a,n)}},e.renderIcon(t,i,a,n));u.push(l),u.push(o)},p=n;p>0;p--)d(p);return u.length?u:null}},{key:"renderIcon",value:function(e,t,a,n){var l=this.props,o=l.renderStarIcon,c=l.renderStarIconHalf;return"function"===typeof c&&Math.ceil(t)===e&&t%1!==0?c(e,t,a,n):"function"===typeof o?o(e,t,a,n):r.a.createElement(ut.a,{key:"icon_".concat(n),icon:mt.a,size:"2x"})}},{key:"render",value:function(){var e=this.props,t=e.editing,a=e.className,n=it()("dv-star-rating",{"dv-star-rating-non-editable":!t},a);return r.a.createElement("div",{style:{display:"inline-block",position:"relative"},className:n},this.renderStars())}}]),t}(n.Component);dt.defaultProps={starCount:5,editing:!0,starColor:"yellow",emptyStarColor:"grey"};var pt=dt;function ht(e){var t=e.comment,a=t.name,n=t.message,l=t.time;return r.a.createElement("div",{className:"media-body p-2 shadow-sm rounded bg-light border"},r.a.createElement("small",{className:"float-right text-muted"},l),r.a.createElement("h6",{className:"mt-0 mb-1 text-muted"},a),n)}function gt(e){return r.a.createElement("div",{className:"commentList"},r.a.createElement("h5",{className:"text-muted mb-4"},r.a.createElement("span",null,e.comments.length)," ","Comment",1!==e.comments.length?"s":""),0!==e.comments.length||e.loading?null:r.a.createElement("div",{style:{width:"350px"},className:"alert text-center alert-info"},"Be the first to comment"),e.comments.map((function(e,t){return r.a.createElement(ht,{key:t,comment:e})})))}var ft=a(82),Et=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleFieldChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(ft.a)({},a.state,{comment:Object(ft.a)({},a.state.comment,Object(C.a)({},r,n))}))},a.goAnonymous=function(e){console.log("Anonymous")},a.state={loading:!1,error:"",comment:{name:"",message:""}},a.handleFieldChange=a.handleFieldChange.bind(Object(d.a)(a)),a.onSubmit=a.onSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"onSubmit",value:function(e){var t=this;if(e.preventDefault(),console.log(this.state.comment.name),console.log(this.state.comment.message),this.isFormValid()){this.setState({error:"",loading:!0});var a=this.state.comment;fetch("http://localhost:3000",{method:"post",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.error?t.setState({loading:!1,error:e.error}):(a.time=e.time,t.props.addComment(a),t.setState({loading:!1,comment:Object(ft.a)({},a,{message:""})}))})).catch((function(e){t.setState({error:"Something went wrong while submitting form.",loading:!1})}))}else this.setState({error:"All fields are required."})}},{key:"isFormValid",value:function(){return""!==this.state.comment.name&&""!==this.state.comment.message}},{key:"renderError",value:function(){return this.state.error?r.a.createElement("div",{className:"alert alert-danger"},this.state.error):null}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{method:"post",onSubmit:this.onSubmit},r.a.createElement("div",{style:{display:"flex"},className:"form-group"},r.a.createElement("input",{onChange:this.handleFieldChange,value:this.state.comment.name,className:"form-control",placeholder:"nickname",name:"name",type:"text",style:{width:"200px"},disabled:"true"}),r.a.createElement("button",{type:"button",onClick:this.goAnonymous},"Go Anonymous")),r.a.createElement("div",{style:{width:"700px"},className:"form-group"},r.a.createElement("textarea",{onChange:this.handleFieldChange,value:this.state.comment.message,className:"form-control",placeholder:"Add Your Review Here",name:"message",rows:"3"})),this.renderError(),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{style:{border:"none"},disabled:this.state.loading,className:"btn btn-primary"},"Submit Review"))))}}]),t}(n.Component);var bt=function(){var e=Object(n.useState)([]),t=Object(ie.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!1),c=Object(ie.a)(o,2),i=c[0],s=c[1];return r.a.createElement("div",{style:{marginLeft:"20px"}},r.a.createElement("img",{src:"https://cdn.pixabay.com/photo/2015/11/04/20/59/milky-way-1023340_1280.jpg",alt:"Book Cover",width:"150px",height:"200px",style:{borderRadius:"15px",marginTop:"20px"}}),r.a.createElement("h1",null,"Review [Book Title]"),r.a.createElement("h2",null,"Rating"),r.a.createElement(pt,null),r.a.createElement(Et,{addComment:function(e){s(!1),l([e].concat(Object(ot.a)(a)))}}),r.a.createElement(gt,{loading:i,comments:a}))},vt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(h.b,null,r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement("div",{id:"route-container"},r.a.createElement(k.b,{path:"/Search",component:b}),r.a.createElement(k.b,{path:"/bookList/:term",component:oe}),r.a.createElement(k.b,{path:"/HomePage",component:ce}),r.a.createElement(k.b,{path:"/Profile",component:Be}),r.a.createElement(k.b,{path:"/ShoppingCart",component:Ue}),r.a.createElement(k.b,{path:"/BookDetails",component:Ge}),r.a.createElement(k.b,{path:"/Wishlist",component:lt}),r.a.createElement(k.b,{path:"/Reviews",component:bt}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(vt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[133,1,2]]]);
//# sourceMappingURL=main.2730e64b.chunk.js.map